<div class="login flex w-full h-full">
    <mat-card appearance="outlined" class="login-card mat-elevation-z4 m-auto">
        <mat-card-header>
            <mat-card-title class="text-center">
                Hoteler 系统登录
            </mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <form class="form-field-full" [formGroup]="loginForm">
                <mat-form-field appearance="outline">
                    <mat-label>用户名</mat-label>
                    <input
                        matInput
                        placeholder="用户名"
                        formControlName="username"
                        required
                    />
                    @if (username.invalid) {
                        <mat-error>请输入用户名</mat-error>
                    }
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>密码</mat-label>
                    <input
                        matInput
                        placeholder="密码"
                        [type]="hide ? 'password' : 'text'"
                        formControlName="password"
                    />
                    <button
                        type="button"
                        mat-icon-button
                        matSuffix
                        (click)="toggleVisibilityIcon($event)"
                        [attr.aria-label]="'Hide password'"
                        [attr.aria-pressed]="hide"
                    >
                        <mat-icon class="visibility">{{
                            hide ? 'visibility_off' : 'visibility'
                        }}</mat-icon>
                    </button>
                    @if (password.invalid) {
                        <mat-error> 请输入密码 </mat-error>
                    }
                </mat-form-field>
                @if (loginForm.errors) {
                    <div class="error">
                        <mat-error>
                            {{ loginForm.errors.login }}
                        </mat-error>
                    </div>
                }
                <button
                    class="w-full"
                    mat-flat-button
                    type="submit"
                    color="primary"
                    [loading]="isLoading"
                    [disabled]="loginForm.invalid"
                    (click)="login()"
                >
                    登录
                </button>
            </form>
        </mat-card-content>
        <mat-card-actions>
            <div class="flex justify-center px-2">
                <span class="no-account inline-flex items-center justify-center"
                    >没有账号?</span
                >
                <a mat-button routerLink="/register" class="p-0"
                    >点此创建一个</a
                >
            </div>
        </mat-card-actions>
    </mat-card>
</div>
